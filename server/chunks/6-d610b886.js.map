{"version":3,"file":"6-d610b886.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/signIn/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/6.js"],"sourcesContent":["import { r as redirect, f as fail } from \"../../../chunks/index.js\";\nimport axios from \"axios\";\nconst load = async ({ locals }) => {\n  if (locals.user) {\n    throw redirect(301, \"/\");\n  }\n};\nconst actions = {\n  submit: async ({ cookies, request }) => {\n    const data = await request.formData();\n    const userId = data.get(\"userId\");\n    const password = data.get(\"password\");\n    if (!userId) {\n      return fail(400, { userId, missing: true, message: \"이메일은 필수 입니다.\" });\n    }\n    if (!password || password.length < 8) {\n      return fail(400, { password, invalid: true, message: \"비밀번호는 8자 이상 입니다.\" });\n    }\n    let status = true;\n    const sendData = {\n      account: userId,\n      password\n    };\n    try {\n      await axios.post(`${process.env.VUE_APP_API_BASE_URL}/api/users/login`, sendData);\n      status = true;\n    } catch (error) {\n      status = false;\n      console.log(error);\n    }\n    if (status) {\n      cookies.set(\"account\", userId, {\n        path: \"/\",\n        httpOnly: true,\n        sameSite: \"strict\",\n        maxAge: 60 * 60 * 24 * 30\n      });\n      throw redirect(303, \"/\");\n    } else {\n      return fail(403, {\n        description: \"login failed\",\n        error: \"error message\"\n      });\n    }\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/signIn/_page.server.ts.js';\n\nexport const index = 6;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/signIn/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/signIn/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/6.2678f1ce.js\",\"_app/immutable/chunks/scheduler.a8c18826.js\",\"_app/immutable/chunks/index.f70754c7.js\",\"_app/immutable/chunks/forms.7cf6fc01.js\",\"_app/immutable/chunks/parse.bee59afc.js\",\"_app/immutable/chunks/singletons.3a2bae30.js\",\"_app/immutable/chunks/navigation.e6d5941f.js\",\"_app/immutable/chunks/Modal.33b9a361.js\"];\nexport const stylesheets = [\"_app/immutable/assets/6.bc7527c2.css\",\"_app/immutable/assets/Modal.843bbf42.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":";;;AAEA,MAAM,IAAI,GAAG,OAAO,EAAE,MAAM,EAAE,KAAK;AACnC,EAAE,IAAI,MAAM,CAAC,IAAI,EAAE;AACnB,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC7B,GAAG;AACH,CAAC,CAAC;AACF,MAAM,OAAO,GAAG;AAChB,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AAC1C,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC1C,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1C,IAAI,IAAI,CAAC,MAAM,EAAE;AACjB,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC,CAAC;AAC3E,KAAK;AACL,IAAI,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AAC1C,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC,CAAC;AACjF,KAAK;AACL,IAAI,IAAI,MAAM,GAAG,IAAI,CAAC;AACtB,IAAI,MAAM,QAAQ,GAAG;AACrB,MAAM,OAAO,EAAE,MAAM;AACrB,MAAM,QAAQ;AACd,KAAK,CAAC;AACN,IAAI,IAAI;AACR,MAAM,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,EAAE,QAAQ,CAAC,CAAC;AACxF,MAAM,MAAM,GAAG,IAAI,CAAC;AACpB,KAAK,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,MAAM,GAAG,KAAK,CAAC;AACrB,MAAM,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACzB,KAAK;AACL,IAAI,IAAI,MAAM,EAAE;AAChB,MAAM,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,EAAE;AACrC,QAAQ,IAAI,EAAE,GAAG;AACjB,QAAQ,QAAQ,EAAE,IAAI;AACtB,QAAQ,QAAQ,EAAE,QAAQ;AAC1B,QAAQ,MAAM,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;AACjC,OAAO,CAAC,CAAC;AACT,MAAM,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC/B,KAAK,MAAM;AACX,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE;AACvB,QAAQ,WAAW,EAAE,cAAc;AACnC,QAAQ,KAAK,EAAE,eAAe;AAC9B,OAAO,CAAC,CAAC;AACT,KAAK;AACL,GAAG;AACH,CAAC;;;;;;;;AC3CW,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAyC,CAAC,EAAE,QAAQ;AAE/G,MAAC,SAAS,GAAG,oCAAoC;AACjD,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,6CAA6C,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,8CAA8C,CAAC,8CAA8C,CAAC,yCAAyC,EAAE;AACtW,MAAC,WAAW,GAAG,CAAC,sCAAsC,CAAC,0CAA0C,EAAE;AACnG,MAAC,KAAK,GAAG;;;;"}