{"version":3,"file":"7-563a1955.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/signUp/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/7.js"],"sourcesContent":["import { f as fail } from \"../../../chunks/index.js\";\nimport axios from \"axios\";\nconst actions = {\n  submit: async ({ request }) => {\n    const data = await request.formData();\n    const userId = data.get(\"userId\");\n    const password = data.get(\"password\");\n    const location = data.get(\"location\");\n    const nickname = data.get(\"nickname\");\n    const profileImg = data.get(\"profileImg\");\n    if (!userId) {\n      return fail(400, { userId, missingId: true, message: \"이메일은 필수 입니다.\" });\n    }\n    if (!password || password.length < 8) {\n      return fail(400, { password, invalid: true, message: \"비밀번호는 8자 이상 입니다.\" });\n    }\n    if (!location) {\n      return fail(400, { location, missingLoc: true, message: \"지역은 필수 입니다.\" });\n    }\n    if (!nickname) {\n      return fail(400, { nickname, missingNic: true, message: \"닉네임은 필수 입니다.\" });\n    }\n    if (profileImg.name === \"undefined\") {\n      return fail(400, { profileImg, missingImg: true, message: \"프로필이미지는 필수 입니다.\" });\n    }\n    const headers = {\n      account: userId\n    };\n    const formData = new FormData();\n    formData.append(\"file\", profileImg);\n    let imgDataUrl;\n    try {\n      const res = await axios.post(\n        `${process.env.VUE_APP_IMAGE_BASE_URL}/user/mayack/${userId}`,\n        formData\n      );\n      imgDataUrl = res.data;\n      console.log(imgDataUrl);\n    } catch (error) {\n      console.error(error);\n    }\n    let status = true;\n    const sendData = {\n      password,\n      nickname,\n      account: userId,\n      region: location,\n      profileImagePath: imgDataUrl\n    };\n    try {\n      await axios.post(`${process.env.VUE_APP_API_BASE_URL}/api/users/sign-up`, sendData, {\n        headers\n      });\n      status = true;\n    } catch (error) {\n      console.error(error);\n      status = false;\n    }\n    if (status) {\n      return { success: true };\n    } else {\n      console.log(\"fail\");\n      return fail(403, {\n        description: \"signUp failed\",\n        error: true\n      });\n    }\n  }\n};\nexport {\n  actions\n};\n","import * as server from '../entries/pages/signUp/_page.server.ts.js';\n\nexport const index = 7;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/signUp/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/signUp/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/7.faf7ee06.js\",\"_app/immutable/chunks/scheduler.a8c18826.js\",\"_app/immutable/chunks/index.f70754c7.js\",\"_app/immutable/chunks/each.e59479a4.js\",\"_app/immutable/chunks/navigation.e6d5941f.js\",\"_app/immutable/chunks/singletons.3a2bae30.js\",\"_app/immutable/chunks/forms.7cf6fc01.js\",\"_app/immutable/chunks/parse.bee59afc.js\",\"_app/immutable/chunks/index.3578fc18.js\",\"_app/immutable/chunks/Avatar.68ec2227.js\",\"_app/immutable/chunks/Modal.33b9a361.js\"];\nexport const stylesheets = [\"_app/immutable/assets/7.24509432.css\",\"_app/immutable/assets/Avatar.86c8d3dc.css\",\"_app/immutable/assets/Modal.843bbf42.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}